<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="RustyDB Enterprise Management Platform - Monitor, configure, and manage your RustyDB database infrastructure" />
    <meta name="theme-color" content="#ed7519" />
    <meta name="color-scheme" content="light dark" />

    <!-- Preconnect to external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="RustyDB Management Platform" />
    <meta property="og:description" content="Enterprise-grade database management interface for RustyDB" />

    <!-- Security Headers (handled by server, but good for CSP reference) -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />

    <title>RustyDB Management Platform</title>

    <!-- Inline critical CSS for faster initial paint -->
    <style>
      /* Critical CSS for initial loading state */
      .initial-loader {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        z-index: 9999;
        transition: opacity 0.3s ease-out;
      }
      .initial-loader.hidden {
        opacity: 0;
        pointer-events: none;
      }
      .loader-spinner {
        width: 48px;
        height: 48px;
        border: 4px solid #334155;
        border-top-color: #ed7519;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      .loader-text {
        margin-top: 16px;
        color: #94a3b8;
        font-family: Inter, system-ui, sans-serif;
        font-size: 14px;
      }
      .loader-logo {
        width: 64px;
        height: 64px;
        margin-bottom: 24px;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body class="h-full bg-dark-900 text-dark-100 antialiased">
    <!-- Initial loading state (removed by React after hydration) -->
    <div id="initial-loader" class="initial-loader">
      <svg class="loader-logo" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="8" y="8" width="48" height="48" rx="8" fill="#ed7519" fill-opacity="0.2"/>
        <path d="M32 16C23.16 16 16 23.16 16 32C16 40.84 23.16 48 32 48C40.84 48 48 40.84 48 32C48 23.16 40.84 16 32 16ZM32 44C25.38 44 20 38.62 20 32C20 25.38 25.38 20 32 20C38.62 20 44 25.38 44 32C44 38.62 38.62 44 32 44Z" fill="#ed7519"/>
        <circle cx="32" cy="32" r="6" fill="#ed7519"/>
        <path d="M32 26V22M32 42V38M38 32H42M22 32H26" stroke="#ed7519" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <div class="loader-spinner"></div>
      <p class="loader-text">Loading RustyDB Platform...</p>
    </div>

    <!-- React root -->
    <div id="root"></div>

    <!-- Module script -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- Remove loader after app loads -->
    <script>
      window.addEventListener('load', function() {
        setTimeout(function() {
          var loader = document.getElementById('initial-loader');
          if (loader) {
            loader.classList.add('hidden');
            setTimeout(function() { loader.remove(); }, 300);
          }
        }, 100);
      });
    </script>

    <!-- Noscript fallback -->
    <noscript>
      <style>.initial-loader { display: none; }</style>
      <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #0f172a; color: #f1f5f9; font-family: Inter, sans-serif; text-align: center; padding: 20px;">
        <h1 style="font-size: 24px; margin-bottom: 16px;">JavaScript Required</h1>
        <p style="color: #94a3b8; max-width: 400px;">The RustyDB Management Platform requires JavaScript to run. Please enable JavaScript in your browser settings and refresh the page.</p>
      </div>
    </noscript>
  </body>
</html>
